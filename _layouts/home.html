---
layout: default
---

<div class="container">
  <aside>
    <img src="https://avatars.githubusercontent.com/u/49396250" alt="{{ site.author }} - Photo de profil" width="80" height="80">
    <h1>{{ site.author }}</h1>
    <p>{{ site.description }}</p>
    <nav aria-label="Navigation principale">
      <a href="{{ '/about' | relative_url }}" class="nav-link">À propos</a>
      <a href="mailto:{{ site.email }}" class="nav-link">Contact</a>
      {% if site.linkedin_username %}
      <a href="https://linkedin.com/in/{{ site.linkedin_username }}" target="_blank" rel="noopener noreferrer" class="nav-link">LinkedIn</a>
      {% endif %}
      {% if site.github_username %}
      <a href="https://github.com/{{ site.github_username }}" target="_blank" rel="noopener noreferrer" class="nav-link">GitHub</a>
      {% endif %}
    </nav>
    <button class="aside-toggle" onclick="toggleAside()" aria-label="Basculer la barre latérale">☰</button>
  </aside>

  <main>
    <section class="posts-grid" aria-label="Articles récents">
      <h2 class="section-title">Articles récents</h2>
      
      {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
      {% for post in sorted_posts limit: 10 %}
      <article class="post-card" itemscope itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
          <h3 class="post-title" itemprop="headline">
            <a href="{{ post.url | relative_url }}" itemprop="url">{{ post.title | escape }}</a>
          </h3>
          <time class="post-date" datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">
            {{ post.date | date: "%d %B %Y" }}
          </time>
        </header>
        
        {% if post.excerpt %}
        <div class="post-excerpt" itemprop="description">
          {{ post.excerpt | markdownify | strip_html | truncate: 150 }}
        </div>
        {% endif %}
        
        <footer class="post-footer">
          <a href="{{ post.url | relative_url }}" class="read-more" aria-label="Lire l'article : {{ post.title | escape }}">
            Lire la suite
          </a>
        </footer>
      </article>
      {% endfor %}
    </section>
  </main>
</div>

<script>
  // Optimized sidebar toggle with performance considerations
  function toggleAside() {
    const aside = document.querySelector('aside');
    const isCollapsed = aside.classList.contains('aside-collapsed');
    
    // Use requestAnimationFrame for smooth animations
    requestAnimationFrame(() => {
      aside.classList.toggle('aside-collapsed', !isCollapsed);
      aside.setAttribute('aria-expanded', isCollapsed ? 'true' : 'false');
    });
  }

  // Intersection Observer for lazy loading optimization
  if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          img.src = img.dataset.src;
          img.classList.remove('lazy');
          observer.unobserve(img);
        }
      });
    });

    document.querySelectorAll('img[data-src]').forEach(img => {
      imageObserver.observe(img);
    });
  }

  // Preload critical resources
  const link = document.createElement('link');
  link.rel = 'prefetch';
  link.href = '/post.css';
  document.head.appendChild(link);
</script>