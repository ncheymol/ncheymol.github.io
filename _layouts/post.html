---
layout: default
---

<div class="container">
  <aside>
    <img src="https://avatars.githubusercontent.com/u/49396250" alt="{{ site.author }} - Photo de profil" width="80" height="80">
    <h1>{{ site.author }}</h1>
    <p>{{ site.description }}</p>
    <nav aria-label="Navigation principale">
      <a href="{{ '/' | relative_url }}" class="nav-link">Accueil</a>
      <a href="{{ '/about' | relative_url }}" class="nav-link">À propos</a>
      <a href="mailto:{{ site.email }}" class="nav-link">Contact</a>
      {% if site.linkedin_username %}
      <a href="https://linkedin.com/in/{{ site.linkedin_username }}" target="_blank" rel="noopener noreferrer" class="nav-link">LinkedIn</a>
      {% endif %}
      {% if site.github_username %}
      <a href="https://github.com/{{ site.github_username }}" target="_blank" rel="noopener noreferrer" class="nav-link">GitHub</a>
      {% endif %}
    </nav>
    <button class="aside-toggle" onclick="toggleAside()" aria-label="Basculer la barre latérale">☰</button>
  </aside>

  <main>
    <article class="post-single" itemscope itemtype="http://schema.org/BlogPosting">
      {% if page.banner and page.banner != '' %}
      <div class="banner">
        <img src="{{ page.banner }}" alt="Bannière de l'article" class="banner-image" itemprop="image">
      </div>
      {% endif %}

      <header class="post-header">
        <h1 class="post-title" itemprop="headline">{{ page.title | escape }}</h1>
        <div class="post-meta">
          <time class="post-date" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
            {{ page.date | date: "%d %B %Y" }}
          </time>
          {% if page.author %}
          <span class="post-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
            par <span itemprop="name">{{ page.author }}</span>
          </span>
          {% endif %}
          {% if page.tags and page.tags.size > 0 %}
          <div class="post-tags">
            {% for tag in page.tags %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
          </div>
          {% endif %}
        </div>
      </header>

      <div class="post-content" itemprop="articleBody">
        {{ content }}
      </div>

      <footer class="post-footer">
        <div class="post-navigation">
          {% if page.previous.url %}
          <a href="{{ page.previous.url | relative_url }}" class="nav-previous" rel="prev">
            <span class="nav-label">← Article précédent</span>
            <span class="nav-title">{{ page.previous.title | escape }}</span>
          </a>
          {% endif %}
          
          {% if page.next.url %}
          <a href="{{ page.next.url | relative_url }}" class="nav-next" rel="next">
            <span class="nav-label">Article suivant →</span>
            <span class="nav-title">{{ page.next.title | escape }}</span>
          </a>
          {% endif %}
        </div>

        <div class="share-buttons">
          <h3>Partager cet article</h3>
          <a href="https://twitter.com/intent/tweet?text={{ page.title | uri_escape }}&url={{ page.url | absolute_url | uri_escape }}" 
             target="_blank" rel="noopener noreferrer" class="share-button twitter" aria-label="Partager sur Twitter">
            Twitter
          </a>
          <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.url | absolute_url | uri_escape }}" 
             target="_blank" rel="noopener noreferrer" class="share-button linkedin" aria-label="Partager sur LinkedIn">
            LinkedIn
          </a>
          <button onclick="copyToClipboard('{{ page.url | absolute_url }}')" class="share-button copy" aria-label="Copier le lien">
            Copier le lien
          </button>
        </div>
      </footer>
    </article>
  </main>
</div>

<script>
  // Optimized sidebar toggle
  function toggleAside() {
    const aside = document.querySelector('aside');
    const isCollapsed = aside.classList.contains('aside-collapsed');
    
    requestAnimationFrame(() => {
      aside.classList.toggle('aside-collapsed', !isCollapsed);
      aside.setAttribute('aria-expanded', isCollapsed ? 'true' : 'false');
    });
  }

  // Copy to clipboard functionality
  function copyToClipboard(url) {
    if (navigator.clipboard && window.isSecureContext) {
      navigator.clipboard.writeText(url).then(() => {
        showNotification('Lien copié dans le presse-papier !');
      }).catch(err => {
        console.error('Erreur lors de la copie:', err);
        fallbackCopyToClipboard(url);
      });
    } else {
      fallbackCopyToClipboard(url);
    }
  }

  // Fallback for older browsers
  function fallbackCopyToClipboard(url) {
    const textArea = document.createElement('textarea');
    textArea.value = url;
    textArea.style.position = 'fixed';
    textArea.style.opacity = '0';
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    
    try {
      document.execCommand('copy');
      showNotification('Lien copié dans le presse-papier !');
    } catch (err) {
      console.error('Erreur lors de la copie:', err);
      showNotification('Impossible de copier le lien.');
    }
    
    document.body.removeChild(textArea);
  }

  // Show notification
  function showNotification(message) {
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.2);
      z-index: 1000;
      transition: all 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.style.opacity = '0';
      notification.style.transform = 'translateY(-20px)';
      setTimeout(() => document.body.removeChild(notification), 300);
    }, 2000);
  }

  // Intersection Observer for lazy loading
  if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          if (img.dataset.src) {
            img.src = img.dataset.src;
            img.classList.remove('lazy');
            observer.unobserve(img);
          }
        }
      });
    });

    document.querySelectorAll('img[data-src]').forEach(img => {
      imageObserver.observe(img);
    });
  }
</script>